{
	"title": "another complex order down",
	"input": {
		"WHERE": {},
		"OPTIONS": {
			"COLUMNS": ["minAvg", "courses_dept", "maxAvg", "maxYear"],
			"ORDER": {
				"dir": "DOWN",
				"keys": ["maxYear", "minAvg"]
			}
		},
		"TRANSFORMATIONS": {
			"GROUP": ["courses_dept"],
			"APPLY": [
				{
					"minAvg": {
						"MIN": "courses_avg"
					}
				},
				{
					"maxAvg": {
						"MAX": "courses_avg"
					}
				},
				{
					"maxYear": {
						"MAX": "courses_year"
					}
				}
			]
		}
	},
	"expected": [
		{"minAvg": 86.33, "courses_dept": "lais", "maxAvg": 86.71, "maxYear": 2016},
		{"minAvg": 83.43, "courses_dept": "bota", "maxAvg": 92, "maxYear": 2016},
		{"minAvg": 81.32, "courses_dept": "phth", "maxAvg": 95.37, "maxYear": 2016},
		{"minAvg": 80.28, "courses_dept": "anat", "maxAvg": 92, "maxYear": 2016},
		{"minAvg": 80.16, "courses_dept": "gpp", "maxAvg": 93.04, "maxYear": 2016},
		{"minAvg": 79.75, "courses_dept": "bait", "maxAvg": 86.83, "maxYear": 2016},
		{"minAvg": 79.22, "courses_dept": "midw", "maxAvg": 96.5, "maxYear": 2016},
		{"minAvg": 79, "courses_dept": "bapa", "maxAvg": 85.4, "maxYear": 2016},
		{"minAvg": 78.97, "courses_dept": "baen", "maxAvg": 87.13, "maxYear": 2016},
		{"minAvg": 78.72, "courses_dept": "libe", "maxAvg": 92.26, "maxYear": 2016},
		{"minAvg": 78.55, "courses_dept": "etec", "maxAvg": 96.47, "maxYear": 2016},
		{"minAvg": 78.51, "courses_dept": "plan", "maxAvg": 96.47, "maxYear": 2016},
		{"minAvg": 78.18, "courses_dept": "edst", "maxAvg": 96.46, "maxYear": 2016},
		{"minAvg": 78, "courses_dept": "hgse", "maxAvg": 95.29, "maxYear": 2016},
		{"minAvg": 77.99, "courses_dept": "appp", "maxAvg": 85.16, "maxYear": 2016},
		{"minAvg": 77.68, "courses_dept": "basm", "maxAvg": 87.56, "maxYear": 2016},
		{"minAvg": 77.57, "courses_dept": "bama", "maxAvg": 87.7, "maxYear": 2016},
		{"minAvg": 77.2, "courses_dept": "bams", "maxAvg": 91.47, "maxYear": 2016},
		{"minAvg": 76.77, "courses_dept": "baul", "maxAvg": 85.62, "maxYear": 2016},
		{"minAvg": 76.18, "courses_dept": "edcp", "maxAvg": 95.58, "maxYear": 2016},
		{"minAvg": 75.79, "courses_dept": "isci", "maxAvg": 90.44, "maxYear": 2016},
		{"minAvg": 75.76, "courses_dept": "bmeg", "maxAvg": 95.15, "maxYear": 2016},
		{"minAvg": 75.63, "courses_dept": "babs", "maxAvg": 91.38, "maxYear": 2016},
		{"minAvg": 75.54, "courses_dept": "bafi", "maxAvg": 89.43, "maxYear": 2016},
		{"minAvg": 75.25, "courses_dept": "eced", "maxAvg": 93.72, "maxYear": 2016},
		{"minAvg": 74.58, "courses_dept": "ba", "maxAvg": 87.24, "maxYear": 2016},
		{"minAvg": 74.42, "courses_dept": "basc", "maxAvg": 86.04, "maxYear": 2016},
		{"minAvg": 74.39, "courses_dept": "baac", "maxAvg": 86.81, "maxYear": 2016},
		{"minAvg": 74.21, "courses_dept": "bahr", "maxAvg": 86.7, "maxYear": 2016},
		{"minAvg": 74.07, "courses_dept": "libr", "maxAvg": 96.1, "maxYear": 2016},
		{"minAvg": 73.56, "courses_dept": "arst", "maxAvg": 96.94, "maxYear": 2016},
		{"minAvg": 73.56, "courses_dept": "larc", "maxAvg": 92.8, "maxYear": 2016},
		{"minAvg": 73.43, "courses_dept": "dani", "maxAvg": 89.27, "maxYear": 2016},
		{"minAvg": 73.34, "courses_dept": "coec", "maxAvg": 82.77, "maxYear": 2016},
		{"minAvg": 73, "courses_dept": "arch", "maxAvg": 90, "maxYear": 2016},
		{"minAvg": 73, "courses_dept": "fnel", "maxAvg": 87.5, "maxYear": 2016},
		{"minAvg": 72.76, "courses_dept": "eece", "maxAvg": 98.75, "maxYear": 2016},
		{"minAvg": 72.6, "courses_dept": "envr", "maxAvg": 89.17, "maxYear": 2016},
		{"minAvg": 72.31, "courses_dept": "crwr", "maxAvg": 98, "maxYear": 2016},
		{"minAvg": 72.14, "courses_dept": "cohr", "maxAvg": 90.46, "maxYear": 2016},
		{"minAvg": 72.07, "courses_dept": "food", "maxAvg": 90.68, "maxYear": 2016},
		{"minAvg": 71.17, "courses_dept": "ends", "maxAvg": 87.17, "maxYear": 2016},
		{"minAvg": 70.66, "courses_dept": "cnps", "maxAvg": 99.19, "maxYear": 2016},
		{"minAvg": 70.4, "courses_dept": "grek", "maxAvg": 84.43, "maxYear": 2016},
		{"minAvg": 70.3, "courses_dept": "fipr", "maxAvg": 96.4, "maxYear": 2016},
		{"minAvg": 70, "courses_dept": "nurs", "maxAvg": 98.71, "maxYear": 2016},
		{"minAvg": 69.76, "courses_dept": "clch", "maxAvg": 79.5, "maxYear": 2016},
		{"minAvg": 69.41, "courses_dept": "cpen", "maxAvg": 86.9, "maxYear": 2016},
		{"minAvg": 68.4, "courses_dept": "itst", "maxAvg": 93, "maxYear": 2016},
		{"minAvg": 68.23, "courses_dept": "cens", "maxAvg": 87.87, "maxYear": 2016},
		{"minAvg": 68.06, "courses_dept": "igen", "maxAvg": 89.06, "maxYear": 2016},
		{"minAvg": 67.64, "courses_dept": "cons", "maxAvg": 90.39, "maxYear": 2016},
		{"minAvg": 67.5, "courses_dept": "adhe", "maxAvg": 96.11, "maxYear": 2016},
		{"minAvg": 67.11, "courses_dept": "fist", "maxAvg": 85.38, "maxYear": 2016},
		{"minAvg": 66.38, "courses_dept": "arth", "maxAvg": 93, "maxYear": 2016},
		{"minAvg": 66.37, "courses_dept": "cogs", "maxAvg": 89.33, "maxYear": 2016},
		{"minAvg": 65.75, "courses_dept": "korn", "maxAvg": 84, "maxYear": 2016},
		{"minAvg": 65.67, "courses_dept": "nest", "maxAvg": 87.5, "maxYear": 2016},
		{"minAvg": 65.58, "courses_dept": "hebr", "maxAvg": 83.57, "maxYear": 2016},
		{"minAvg": 65.55, "courses_dept": "epse", "maxAvg": 98.8, "maxYear": 2016},
		{"minAvg": 65.5, "courses_dept": "caps", "maxAvg": 89.8, "maxYear": 2016},
		{"minAvg": 65.44, "courses_dept": "fnh", "maxAvg": 93.05, "maxYear": 2016},
		{"minAvg": 65.12, "courses_dept": "mine", "maxAvg": 96.59, "maxYear": 2016},
		{"minAvg": 65, "courses_dept": "chin", "maxAvg": 86.13, "maxYear": 2016},
		{"minAvg": 64.67, "courses_dept": "bioc", "maxAvg": 90.57, "maxYear": 2016},
		{"minAvg": 64.67, "courses_dept": "grsj", "maxAvg": 90, "maxYear": 2016},
		{"minAvg": 64, "courses_dept": "cpsc", "maxAvg": 95, "maxYear": 2016},
		{"minAvg": 63.59, "courses_dept": "micb", "maxAvg": 94.17, "maxYear": 2016},
		{"minAvg": 63.14, "courses_dept": "astu", "maxAvg": 83.14, "maxYear": 2016},
		{"minAvg": 62.81, "courses_dept": "geob", "maxAvg": 88.17, "maxYear": 2016},
		{"minAvg": 62.74, "courses_dept": "clst", "maxAvg": 88.4, "maxYear": 2016},
		{"minAvg": 62.63, "courses_dept": "audi", "maxAvg": 96.9, "maxYear": 2016},
		{"minAvg": 62.5, "courses_dept": "astr", "maxAvg": 91.4, "maxYear": 2016},
		{"minAvg": 62.33, "courses_dept": "pcth", "maxAvg": 96, "maxYear": 2016},
		{"minAvg": 62.22, "courses_dept": "geog", "maxAvg": 90, "maxYear": 2016},
		{"minAvg": 61.97, "courses_dept": "fmst", "maxAvg": 86, "maxYear": 2016},
		{"minAvg": 61.45, "courses_dept": "kin", "maxAvg": 96.06, "maxYear": 2016},
		{"minAvg": 61.36, "courses_dept": "fren", "maxAvg": 88.5, "maxYear": 2016},
		{"minAvg": 61, "courses_dept": "ital", "maxAvg": 91.5, "maxYear": 2016},
		{"minAvg": 60.89, "courses_dept": "econ", "maxAvg": 95, "maxYear": 2016},
		{"minAvg": 60.67, "courses_dept": "latn", "maxAvg": 84.29, "maxYear": 2016},
		{"minAvg": 60.05, "courses_dept": "anth", "maxAvg": 92.29, "maxYear": 2016},
		{"minAvg": 59.61, "courses_dept": "germ", "maxAvg": 92.25, "maxYear": 2016},
		{"minAvg": 59.06, "courses_dept": "ling", "maxAvg": 92.25, "maxYear": 2016},
		{"minAvg": 58.33, "courses_dept": "musc", "maxAvg": 96.5, "maxYear": 2016},
		{"minAvg": 57.68, "courses_dept": "apsc", "maxAvg": 96, "maxYear": 2016},
		{"minAvg": 57.4, "courses_dept": "mtrl", "maxAvg": 96.25, "maxYear": 2016},
		{"minAvg": 57.33, "courses_dept": "asia", "maxAvg": 86.24, "maxYear": 2016},
		{"minAvg": 57.2, "courses_dept": "fre", "maxAvg": 88.47, "maxYear": 2016},
		{"minAvg": 57, "courses_dept": "eosc", "maxAvg": 93.47, "maxYear": 2016},
		{"minAvg": 55.96, "courses_dept": "biol", "maxAvg": 94.33, "maxYear": 2016},
		{"minAvg": 55.25, "courses_dept": "phys", "maxAvg": 95.43, "maxYear": 2016},
		{"minAvg": 54.81, "courses_dept": "japn", "maxAvg": 86.95, "maxYear": 2016},
		{"minAvg": 54.43, "courses_dept": "medg", "maxAvg": 94.7, "maxYear": 2016},
		{"minAvg": 54.01, "courses_dept": "poli", "maxAvg": 86, "maxYear": 2016},
		{"minAvg": 53.5, "courses_dept": "engl", "maxAvg": 89.68, "maxYear": 2016},
		{"minAvg": 52.67, "courses_dept": "elec", "maxAvg": 93.93, "maxYear": 2016},
		{"minAvg": 52.08, "courses_dept": "apbi", "maxAvg": 91.86, "maxYear": 2016},
		{"minAvg": 51.25, "courses_dept": "phar", "maxAvg": 95.07, "maxYear": 2016},
		{"minAvg": 47.29, "courses_dept": "lled", "maxAvg": 93.2, "maxYear": 2016},
		{"minAvg": 46.71, "courses_dept": "comm", "maxAvg": 94.75, "maxYear": 2016},
		{"minAvg": 46.52, "courses_dept": "math", "maxAvg": 99.78, "maxYear": 2016},
		{"minAvg": 42.5, "courses_dept": "chem", "maxAvg": 92.57, "maxYear": 2016},
		{"minAvg": 42, "courses_dept": "chbe", "maxAvg": 95.54, "maxYear": 2016},
		{"minAvg": 39.03, "courses_dept": "educ", "maxAvg": 97.5, "maxYear": 2016},
		{"minAvg": 34, "courses_dept": "hist", "maxAvg": 93, "maxYear": 2016},
		{"minAvg": 33.2, "courses_dept": "phil", "maxAvg": 96, "maxYear": 2016},
		{"minAvg": 33, "courses_dept": "civl", "maxAvg": 96.27, "maxYear": 2016},
		{"minAvg": 4.5, "courses_dept": "fopr", "maxAvg": 91, "maxYear": 2016},
		{"minAvg": 4, "courses_dept": "busi", "maxAvg": 88.88, "maxYear": 2016},
		{"minAvg": 0, "courses_dept": "frst", "maxAvg": 96.36, "maxYear": 2016},
		{"minAvg": 0, "courses_dept": "lfs", "maxAvg": 90.83, "maxYear": 2016},
		{"minAvg": 87.83, "courses_dept": "aanb", "maxAvg": 94.44, "maxYear": 2015},
		{"minAvg": 87.33, "courses_dept": "biof", "maxAvg": 93.45, "maxYear": 2015},
		{"minAvg": 85.57, "courses_dept": "sts", "maxAvg": 90, "maxYear": 2015},
		{"minAvg": 85.4, "courses_dept": "info", "maxAvg": 85.4, "maxYear": 2015},
		{"minAvg": 84.9, "courses_dept": "gsat", "maxAvg": 90.29, "maxYear": 2015},
		{"minAvg": 84.8, "courses_dept": "gbpr", "maxAvg": 85, "maxYear": 2015},
		{"minAvg": 84.59, "courses_dept": "cnto", "maxAvg": 89.42, "maxYear": 2015},
		{"minAvg": 84.29, "courses_dept": "cell", "maxAvg": 94.4, "maxYear": 2015},
		{"minAvg": 84, "courses_dept": "iwme", "maxAvg": 84, "maxYear": 2015},
		{"minAvg": 83.67, "courses_dept": "zool", "maxAvg": 92.71, "maxYear": 2015},
		{"minAvg": 83.45, "courses_dept": "onco", "maxAvg": 93.07, "maxYear": 2015},
		{"minAvg": 83, "courses_dept": "chil", "maxAvg": 92, "maxYear": 2015},
		{"minAvg": 81.6, "courses_dept": "hunu", "maxAvg": 91.33, "maxYear": 2015},
		{"minAvg": 80, "courses_dept": "iar", "maxAvg": 87.5, "maxYear": 2015},
		{"minAvg": 79.7, "courses_dept": "ufor", "maxAvg": 84.08, "maxYear": 2015},
		{"minAvg": 78.6, "courses_dept": "medi", "maxAvg": 93.5, "maxYear": 2015},
		{"minAvg": 78, "courses_dept": "fish", "maxAvg": 94, "maxYear": 2015},
		{"minAvg": 77.98, "courses_dept": "rsot", "maxAvg": 91.7, "maxYear": 2015},
		{"minAvg": 77.89, "courses_dept": "ursy", "maxAvg": 82.83, "maxYear": 2015},
		{"minAvg": 77.88, "courses_dept": "swed", "maxAvg": 84.92, "maxYear": 2015},
		{"minAvg": 77.62, "courses_dept": "name", "maxAvg": 91.57, "maxYear": 2015},
		{"minAvg": 77.5, "courses_dept": "ccst", "maxAvg": 93.67, "maxYear": 2015},
		{"minAvg": 77.36, "courses_dept": "pols", "maxAvg": 88.3, "maxYear": 2015},
		{"minAvg": 76.63, "courses_dept": "scan", "maxAvg": 86.35, "maxYear": 2015},
		{"minAvg": 76.43, "courses_dept": "udes", "maxAvg": 89.5, "maxYear": 2015},
		{"minAvg": 76.39, "courses_dept": "cics", "maxAvg": 89.68, "maxYear": 2015},
		{"minAvg": 76.09, "courses_dept": "hinu", "maxAvg": 93.22, "maxYear": 2015},
		{"minAvg": 75.63, "courses_dept": "fhis", "maxAvg": 79.89, "maxYear": 2015},
		{"minAvg": 75.4, "courses_dept": "arbc", "maxAvg": 83.13, "maxYear": 2015},
		{"minAvg": 74.96, "courses_dept": "ceen", "maxAvg": 94.27, "maxYear": 2015},
		{"minAvg": 74.57, "courses_dept": "spha", "maxAvg": 89.76, "maxYear": 2015},
		{"minAvg": 74.5, "courses_dept": "jrnl", "maxAvg": 89.93, "maxYear": 2015},
		{"minAvg": 74.33, "courses_dept": "rmes", "maxAvg": 89.25, "maxYear": 2015},
		{"minAvg": 73.47, "courses_dept": "path", "maxAvg": 93.5, "maxYear": 2015},
		{"minAvg": 73.38, "courses_dept": "soil", "maxAvg": 91.43, "maxYear": 2015},
		{"minAvg": 72.95, "courses_dept": "sowk", "maxAvg": 96.15, "maxYear": 2015},
		{"minAvg": 72.75, "courses_dept": "dent", "maxAvg": 94.33, "maxYear": 2015},
		{"minAvg": 72.18, "courses_dept": "fnis", "maxAvg": 84.78, "maxYear": 2015},
		{"minAvg": 71.92, "courses_dept": "bala", "maxAvg": 83.2, "maxYear": 2015},
		{"minAvg": 71.3, "courses_dept": "cnrs", "maxAvg": 89.13, "maxYear": 2015},
		{"minAvg": 71.27, "courses_dept": "asic", "maxAvg": 80.79, "maxYear": 2015},
		{"minAvg": 70.69, "courses_dept": "sans", "maxAvg": 92.5, "maxYear": 2015},
		{"minAvg": 70.11, "courses_dept": "phrm", "maxAvg": 94.23, "maxYear": 2015},
		{"minAvg": 69.34, "courses_dept": "urst", "maxAvg": 82.16, "maxYear": 2015},
		{"minAvg": 69.28, "courses_dept": "mdvl", "maxAvg": 77.39, "maxYear": 2015},
		{"minAvg": 69.25, "courses_dept": "atsc", "maxAvg": 92, "maxYear": 2015},
		{"minAvg": 68.53, "courses_dept": "laso", "maxAvg": 78.72, "maxYear": 2015},
		{"minAvg": 68.5, "courses_dept": "rhsc", "maxAvg": 95, "maxYear": 2015},
		{"minAvg": 68, "courses_dept": "nrsc", "maxAvg": 90.67, "maxYear": 2015},
		{"minAvg": 67.78, "courses_dept": "pers", "maxAvg": 89.25, "maxYear": 2015},
		{"minAvg": 67.73, "courses_dept": "port", "maxAvg": 90, "maxYear": 2015},
		{"minAvg": 67.43, "courses_dept": "rgla", "maxAvg": 80.58, "maxYear": 2015},
		{"minAvg": 66.8, "courses_dept": "spph", "maxAvg": 98.98, "maxYear": 2015},
		{"minAvg": 65.9, "courses_dept": "last", "maxAvg": 84.58, "maxYear": 2015},
		{"minAvg": 65.81, "courses_dept": "scie", "maxAvg": 86.81, "maxYear": 2015},
		{"minAvg": 65.64, "courses_dept": "law", "maxAvg": 86.6, "maxYear": 2015},
		{"minAvg": 65.5, "courses_dept": "visa", "maxAvg": 89, "maxYear": 2015},
		{"minAvg": 65.38, "courses_dept": "relg", "maxAvg": 84.6, "maxYear": 2015},
		{"minAvg": 65.07, "courses_dept": "soci", "maxAvg": 88.71, "maxYear": 2015},
		{"minAvg": 64.89, "courses_dept": "punj", "maxAvg": 89.08, "maxYear": 2015},
		{"minAvg": 64.5, "courses_dept": "arcl", "maxAvg": 80.82, "maxYear": 2015},
		{"minAvg": 64.13, "courses_dept": "russ", "maxAvg": 92.3, "maxYear": 2015},
		{"minAvg": 63.78, "courses_dept": "thtr", "maxAvg": 95.2, "maxYear": 2015},
		{"minAvg": 62.5, "courses_dept": "obst", "maxAvg": 95, "maxYear": 2015},
		{"minAvg": 61.21, "courses_dept": "rmst", "maxAvg": 79, "maxYear": 2015},
		{"minAvg": 61.03, "courses_dept": "span", "maxAvg": 93.25, "maxYear": 2015},
		{"minAvg": 60.6, "courses_dept": "stat", "maxAvg": 94.7, "maxYear": 2015},
		{"minAvg": 60.25, "courses_dept": "surg", "maxAvg": 94.25, "maxYear": 2015},
		{"minAvg": 58.4, "courses_dept": "dhyg", "maxAvg": 93.72, "maxYear": 2015},
		{"minAvg": 58, "courses_dept": "enph", "maxAvg": 85.69, "maxYear": 2015},
		{"minAvg": 56.77, "courses_dept": "vant", "maxAvg": 76.03, "maxYear": 2015},
		{"minAvg": 53.86, "courses_dept": "mech", "maxAvg": 93.5, "maxYear": 2015},
		{"minAvg": 53.64, "courses_dept": "wrds", "maxAvg": 79.12, "maxYear": 2015},
		{"minAvg": 43.33, "courses_dept": "psyc", "maxAvg": 97, "maxYear": 2015},
		{"minAvg": 1, "courses_dept": "wood", "maxAvg": 89, "maxYear": 2015},
		{"minAvg": 78.17, "courses_dept": "mrne", "maxAvg": 89.4, "maxYear": 2014},
		{"minAvg": 60, "courses_dept": "test", "maxAvg": 60, "maxYear": 1900}
	]
}
